<!doctype html><html><head><meta charset="utf-8"/><title>Admin</title>
  <link rel="stylesheet" href="/css/styles.css"/></head><body>
<header><a href="/">← Store</a></header>

<main>
  <h2>Add / Edit Product</h2>
  <form id="f" enctype="multipart/form-data">
    <input name="title" placeholder="Title" required>
    <textarea name="description" placeholder="Description"></textarea>
    <input name="price" type="number" step="0.01" placeholder="Price" required>
    <input name="stock" type="number" placeholder="Stock" value="0">
    <input name="category" placeholder="Category" value="General">
    <input name="image" type="file" accept="image/*">
    <button type="submit">Save</button>
  </form>
  <p id="msg"></p>
</main>
<script>
  const form = document.getElementById('f');
  form.onsubmit = async (e)=>{
    e.preventDefault();
    const fd = new FormData(form);
    const res = await fetch('/api/admin/products', {
      method:'POST',
      headers: { Authorization: 'Bearer ' + (localStorage.getItem('token')||'') },
      body: fd
    });
    document.getElementById('msg').textContent = res.ok ? 'Saved ✅' : 'Failed ❌';
  };
</script></body></html>
