<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Profile</title>
  <link rel="stylesheet" href="/css/styles.css"/>
  <style>
    /* Page-specific polish */
    .profile-wrap{display:grid;grid-template-columns:320px 1fr;gap:16px;margin-top:8px}
    .avatar-box{display:flex;gap:12px;align-items:center}
    .avatar{width:84px;height:84px;border-radius:50%;object-fit:cover;border:1px solid #e5e7eb;background:#f8fafc}
    .file-btn{display:inline-block;border:1px solid #e5e7eb;padding:6px 10px;border-radius:10px;background:#fff;cursor:pointer}
    .muted{color:#6b7280}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .grid input{width:100%}
    .actions{display:flex;gap:8px;align-items:center;margin-top:10px}
    .btn{background:#111827;color:#fff;border:none;padding:8px 12px;border-radius:10px;cursor:pointer}
    .btn[disabled]{opacity:.5;cursor:not-allowed}
    .btn-light{background:#fff;border:1px solid #e5e7eb;color:#111827;padding:8px 12px;border-radius:10px;cursor:pointer}
    .toast{font-size:14px}
    .toast.ok{color:#065f46}
    .toast.err{color:#991b1b}
    @media (max-width: 860px){ .profile-wrap{grid-template-columns:1fr} .grid{grid-template-columns:1fr} }
  </style>
</head>
<body>
<header>
  <a href="/">‚Üê Store</a>
  <nav>
    <a href="/orders.html">My Orders</a>
    <a href="/cart.html">üõí Cart</a>
    <a href="/login.html" id="loginLink">Login</a>
    <a href="#" id="logoutLink" style="display:none">Logout</a>
  </nav>
</header>

<main>
  <h2>Profile</h2>
  <div id="guard" class="card">Loading‚Ä¶</div>

  <div id="profile" class="profile-wrap" style="display:none">
    <!-- Account -->
    <section class="card">
      <h3 style="margin-top:0">Account</h3>
      <div class="avatar-box">
        <img id="avatar" class="avatar" alt="Avatar" src="/img/avatar_placeholder.svg">
        <div>
          <div><strong id="uName">‚Äî</strong></div>
          <div class="muted" id="uEmail">‚Äî</div>
          <label class="file-btn" for="fileAvatar">Change avatar</label>
          <input id="fileAvatar" type="file" accept="image/*" style="display:none">
        </div>
      </div>
      <div style="margin-top:10px">
        <label class="muted" for="name">Display name</label>
        <input id="name" placeholder="Your name">
      </div>
    </section>

    <!-- Default Shipping -->
    <section class="card">
      <h3 style="margin-top:0">Default shipping</h3>
      <div class="grid">
        <div>
          <label class="muted" for="shipping_name">Full name</label>
          <input id="shipping_name" placeholder="e.g. John Doe">
        </div>
        <div>
          <label class="muted" for="shipping_address">Address</label>
          <input id="shipping_address" placeholder="Street, house, apt">
        </div>
        <div>
          <label class="muted" for="shipping_city">City</label>
          <input id="shipping_city" placeholder="City">
        </div>
        <div>
          <label class="muted" for="shipping_zip">ZIP</label>
          <input id="shipping_zip" placeholder="ZIP">
        </div>
        <div>
          <label class="muted" for="shipping_country">Country</label>
          <input id="shipping_country" placeholder="Country">
        </div>
      </div>

      <div class="actions">
        <button id="save" class="btn" disabled>Save changes</button>
        <button id="reset" class="btn-light">Reset</button>
        <span id="msg" class="toast muted"></span>
      </div>
      <p class="muted" style="margin-top:8px">This address autofills at checkout.</p>
    </section>
  </div>
</main>

<script src="/js/api.js" defer></script>
<script src="/js/profile.js" defer></script>
</body>
</html>
